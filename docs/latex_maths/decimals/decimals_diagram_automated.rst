====================================================
Decimals diagram - automated
====================================================

| The LaTeX in this section is for a diagram for addition or subtraction of decimals.
| The values in the diagram can be randomly generated by python.
| The required LaTeX and python files are:
| :download:`add_sub_decimals_template.tex<makers/add_sub_decimals_template.tex>`
| :download:`add_sub_decimals_diagram_template.tex<makers/add_sub_decimals_diagram_template.tex>`
| :download:`add_sub_decimals_diagram_maker.py<makers/add_sub_decimals_diagram_maker.py>`

| The 2 custom python modules required are:
| :download:`decimals_functions.py<makers/decimals_functions.py>`
| :download:`magick_pdf_to_png.py<makers/magick_pdf_to_png.py>`

| The python file, **add_sub_decimals_diagram_maker**, when run, will ask for 3 inputs:
| Choose the arithmetic process: ``"Enter 1, 2, or 3 for +, -, random for the process"``.
| Choose the number of integer places: ``"Enter 1, 2, 3, or 4 for the number of places before the decimal point"``.
| Choose the number of decimal places: ``"Enter 1, 2, 3, 4, or 5 for the number of decimal places "``.
| Choose the file name base: ``"Enter the base filename to be added to the prefix asd_:"``.
| The filename will have "_q" added for the question diagram and "_ans" for the answer diagram. 

----

A decimals diagram with answers
--------------------------------------------

.. grid:: 4
   :gutter: 0
   :margin: 0
   :padding: 0

   .. grid-item-card::  

      addition_q
      ^^^
      :download:`png<diagrams/asd_add2dp_q.png>`
      :download:`pdf<diagrams/asd_add2dp_q.pdf>`
      :download:`tex<diagrams/asd_add2dp_q.tex>`

      .. figure:: diagrams/asd_add2dp_q.png
         :width: 300
         :alt: asd_add2dp_q
         :figclass: align-center

   .. grid-item-card::  
      
      addition_ans
      ^^^
      :download:`png<diagrams/asd_add2dp_ans.png>`
      :download:`pdf<diagrams/asd_add2dp_ans.pdf>`
      :download:`tex<diagrams/asd_add2dp_ans.tex>`

      .. figure:: diagrams/asd_add2dp_ans.png
         :width: 300
         :alt: asd_add2dp_ans
         :figclass: align-center

   .. grid-item-card::  

      subtraction_q
      ^^^
      :download:`png<diagrams/asd_sub2dp_q.png>`
      :download:`pdf<diagrams/asd_sub2dp_q.pdf>`
      :download:`tex<diagrams/asd_sub2dp_q.tex>`

      .. figure:: diagrams/asd_sub2dp_q.png
         :width: 300
         :alt: asd_sub2dp_q
         :figclass: align-center

   .. grid-item-card::  
      
      subtraction_ans
      ^^^
      :download:`png<diagrams/asd_sub2dp_ans.png>`
      :download:`pdf<diagrams/asd_sub2dp_ans.pdf>`
      :download:`tex<diagrams/asd_sub2dp_ans.tex>`

      .. figure:: diagrams/asd_sub2dp_ans.png
         :width: 300
         :alt: asd_sub2dp_ans
         :figclass: align-center
  
----

Splitting the LaTeX and modifying it for python
---------------------------------------------------

| The LaTeX file is built from 2 templates.
| The Document template contains the preamble and the scaffold for the document.
| The Diagram template contains the decimal diagram LaTeX.

Document template
~~~~~~~~~~~~~~~~~~~~

| The LaTeX document template is below.
| :download:`add_sub_decimals_template.tex<makers/add_sub_decimals_template.tex>`

.. literalinclude:: makers/add_sub_decimals_template.tex
   :linenos:

| ``<<diagram>>`` is placeholder text for the text that python will use to add the LaTeX for the decimals diagram.

Diagram template
~~~~~~~~~~~~~~~~~~~~

| The LaTeX decimals diagram template is below.
| :download:`add_sub_decimals_diagram_template.tex<makers/add_sub_decimals_diagram_template.tex>`

| The placeholders are marked by `<<   >>`.

.. literalinclude:: makers/add_sub_decimals_diagram_template.tex
   :linenos:

Python to create a decimals diagram
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

| The Python to create a decimals diagram is below.
| This script creates a LaTeX file with a diagram and converts it to PDF and PNG formats. It does the following steps:

:download:`add_sub_decimals_diagram_maker.py<makers/add_sub_decimals_diagram_maker.py>`

.. literalinclude:: makers/add_sub_decimals_diagram_maker.py
   :linenos:


